---
title: '备份查看'
---

查看备份

## 备份列表

### 基本用法

查看备份列表，使用如下指令：

```
!!pb list
```

此命令将显示最近的 10 个备份，按时间降序排列。

示例输出：

```
> !!pb list
[MCDR] [18:22:40] [PB@fc91-worker-light/INFO]: [PB] ======== 备份列表 ========
[MCDR] [18:22:40] [PB@fc91-worker-light/INFO]: [PB] 共有17个备份:
[MCDR] [18:22:40] [PB@fc91-worker-light/INFO]: [PB] [#85] 162.45MiB 2025-01-31 23:59:59: 一月最后备份
[MCDR] [18:22:40] [PB@fc91-worker-light/INFO]: [PB] [#84] 159.82MiB 2025-01-30 16:45:30: 建筑完成
[MCDR] [18:22:40] [PB@fc91-worker-light/INFO]: [PB] [#83] 157.36MiB 2025-01-28 12:15:45: 仓储重构2
[MCDR] [18:22:40] [PB@fc91-worker-light/INFO]: [PB] [#82] 154.91MiB 2025-01-25 09:30:20: 仓储重构1
[MCDR] [18:22:40] [PB@fc91-worker-light/INFO]: [PB] [#81] 152.47MiB 2025-01-22 14:00:00: 每周备份
[MCDR] [18:22:40] [PB@fc91-worker-light/INFO]: [PB] [#80] 150.03MiB 2025-01-20 20:18:33: 空
[MCDR] [18:22:40] [PB@fc91-worker-light/INFO]: [PB] [#79] 147.59MiB 2025-01-18 11:05:12: 新地形
[MCDR] [18:22:40] [PB@fc91-worker-light/INFO]: [PB] [#78] 145.15MiB 2025-01-15 08:22:45: 开始填坑
[MCDR] [18:22:40] [PB@fc91-worker-light/INFO]: [PB] [#77] 142.71MiB 2025-01-10 02:00:00: 空
[MCDR] [18:22:40] [PB@fc91-worker-light/INFO]: [PB] [#76] 140.27MiB 2025-01-05 19:40:15: 基地扩建完成
[MCDR] [18:22:40] [PB@fc91-worker-light/INFO]: [PB] <- 1/2 ->
```

### 列表格式说明

每个备份项的显示格式为：

```
[#ID] [>] [x] [标志位] 大小 创建时间: 注释
```

- `[#ID]`：备份 ID，点击可查看详情
- `[>]`：绿色回档按钮，点击可快速回档
- `[x]`：红色删除按钮，点击可删除备份（受保护备份为灰色）
- `[标志位]`：使用 `--flags` 参数时才会显示的备份标志
- `大小`：备份原始大小（去重/压缩前）
- `创建时间`：备份创建的时间
- `注释`：备份的注释文本。若无则为灰色的“空”

## 可选参数

备份列表命令支持以下可选参数：

| 参数                | 说明                              |
|-------------------|---------------------------------|
| `[页码]`            | 查看指定页码的备份                       |
| `--per-page <数量>` | 设置每页展示的备份数量 (1-1000)            |
| `--sort <排序方式>`   | 设置排序方式 (id, id_r, time, time_r) |
| `--creator <创建者>` | 仅显示指定创建者的备份                     |
| `--me`            | 仅显示当前用户创建的备份                    |
| `--from <起始日期>`   | 仅显示指定日期之后的备份                    |
| `--to <结束日期>`     | 仅显示指定日期之前的备份                    |
| `-a, --all`       | 显示所有备份（包括隐藏和临时备份）               |
| `--flag, --flags` | 显示备份标志位                         |

排序方式参数支持以下取值：

- `id`：按备份 ID 升序排列
- `id_r`：按备份 ID 降序排列
- `time`：按创建时间升序排列
- `time_r`：按创建时间降序排列（默认）

日期参数支持以下格式：

| 格式                     | 示例                           | 说明             |
|------------------------|------------------------------|----------------|
| `%Y`                   | `2023`                       | 年份             |
| `%Y%m`                 | `202311`                     | 年月             |
| `%Y%m%d`               | `20231130`                   | 年月日            |
| `%Y-%m-%d`             | `2023-11-30`                 | 年-月-日          |
| `%Y/%m/%d`             | `2023/11/30`                 | 年/月/日          |
| `%Y%m%d%H`             | `2023113021`                 | 年月日时           |
| `%Y%m%d%H%M`           | `202311302139`               | 年月日时分          |
| `%Y%m%d%H%M%S`         | `20231130213955`             | 年月日时分秒         |
| `%Y%m%d %H%M%S`        | `20231130 213955`            | 年月日 时分秒        |
| `%Y%m%d %H:%M:%S`      | `20231130 21:39:55`          | 年月日 时:分:秒      |
| `%Y-%m-%d %H:%M:%S`    | `2023-11-30 21:39:55`        | 年-月-日 时:分:秒    |
| `%Y-%m-%d %H:%M:%S.%f` | `2023-11-30 21:39:55.123456` | 年-月-日 时:分:秒.微秒 |

## 备份详情

### 查看备份详情

查看特定备份的详细信息：

```
!!pb show 45
```

示例输出：

```
> !!pb show 45
[MCDR] [01:40:09] [PB@f133-worker-light/INFO]: [PB] ======== 备份#45 ========
[MCDR] [01:40:09] [PB@f133-worker-light/INFO]: [PB] 创建日期: 2025-08-24 23:50:07
[MCDR] [01:40:09] [PB@f133-worker-light/INFO]: [PB] 注释: 2
[MCDR] [01:40:09] [PB@f133-worker-light/INFO]: [PB] 存储大小: 64.62MiB (54.6%)
[MCDR] [01:40:09] [PB@f133-worker-light/INFO]: [PB] 原始大小: 118.39MiB
[MCDR] [01:40:09] [PB@f133-worker-light/INFO]: [PB] 创建者: 控制台
[MCDR] [01:40:09] [PB@f133-worker-light/INFO]: [PB] 标签: 空
```

## 备份标志位

使用 `--flags` 参数时，备份列表会显示标志位：

```
!!pb list --flags
```

标志位说明：

| 标志  | 说明    |
|-----|-------|
| `H` | 隐藏备份  |
| `T` | 临时备份  |
| `P` | 受保护备份 |
| `S` | 定时备份  |

示例：

```
[#65] [>] [x] H-P- 119.26MiB 2025-01-02 14:00:00: 秘密备份
[#62] [>] [x] ---S 118.39MiB 2025-01-02 12:00:00: 定时备份
[#58] [>] [x] -T-- 118.39MiB 2025-01-02 11:00:00: 回档至#48前的自动备份
```

## 实用命令

查看最近的 20 个备份

```
!!pb list --per-page 20
```

查看特定创建者的备份

```
!!pb list --creator console:
!!pb list --creator player:Fallen_Breath
```

查看特定时间范围的备份

```
!!pb list --from 20240101 --to 20240131
```

查看所有备份（包括隐藏备份、临时备份）

```
!!pb list --all --flags
```

按 ID 升序查看备份

```
!!pb list --sort id
```
